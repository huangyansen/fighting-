#include <stdio.h>
#include <algorithm>
#include <iostream>
#include <string.h>
#include <string>
using namespace std;

int sort_middle(int s,int e,int a[]){//做一趟排序并返回排好后a[s]所在位置的下标
    int keypoint=a[s];
    int i=s,j=e;
    while(i<j){//注意没有等号
        while(i<j&&a[j]>=keypoint) j--;//移动到左边
        if(i<j){
            a[i]=a[j];//此时j处为空
            i++;
        }

        while(i<j&&a[i]<=keypoint) i++;//移动到右边
        if(i<j){
            a[j]=a[i];//此时i处为空
            j--;
        }
    }
    a[i]=keypoint;//此时i=j
    return i;
}

void sort_(int s,int e,int a[]){
    if(s<e){//当只有一个元素是为止
        int m=sort_middle(s,e,a);
        sort_(s,m-1,a);
        sort_(m+1,e,a);
    }
}

int main(){
    int n;
    int a[105];
    cout<<"input the number of array:\n";
    cin>>n;
    for(int i=1;i<=n;++i)
        cin>>a[i];

    sort_(1,n,a);
    cout<<"After sort:\n";
    for(int i=1;i<=n;++i)
        cout<<a[i]<<endl;

    return 0;
}
